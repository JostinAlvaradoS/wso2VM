"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[8874],{78874:(e,t,a)=>{a.d(t,{A:()=>X});var n=a(96540),l=a(11848),s=a(58065),i=a(99020),r=a(33551),o=a(5556),c=a.n(o),d=a(1043),m=a(45359),u=a(41340),p=a(1403),A=a(53215),g=a(73357),y=a(56655),E=a(27738),h=a(19455),v=a(25239),f=a(92728),T=a(32997),b=a(17681),k=a(84798),C=a(69067),S=a(6325),I=a(5673),P=a(76768),D=a(72048),w=a(31656),N=a(36632),O=a(54937);const M=e=>{const{classes:t,advAuthHeader:a,advAuthHeaderValue:l,handleChanges:o,selectedEndpoint:c,api:{advertiseInfo:m,transport:u,securityScheme:p,authorizationHeader:A}}=e,g=u.join(", ").toUpperCase();let y="";return p.forEach(((e,t)=>{0!==t&&(y+=", "),"basic_auth"===e?y+="Basic":"oauth2"===e?y+="OAuth2":"mutualssl"===e?y+="Mutual SSL":"api_key"===e?y+="API Key":y=y.substring(0,y.length-2)})),n.createElement(C.A,{display:"block",justifyContent:"center",className:t.authHeader},n.createElement(i.Ay,{x:12,md:6,className:t.centerItems},n.createElement(r.A,{variant:"h6",component:"label",id:"authentication-heading",color:"textSecondary",className:t.tryoutHeading},n.createElement(s.A,{id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.authentication.heading",defaultMessage:"Authentication"}))),n.createElement(i.Ay,{container:!0,spacing:2,x:8,md:6,direction:"row",className:t.tokenType},n.createElement(i.Ay,{xs:6,md:4,style:{paddingLeft:0},item:!0},n.createElement(d.A,{margin:"normal",variant:"outlined",id:"advAuthHeader",label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.adv.auth.header",defaultMessage:"Authorization Header"}),name:"advAuthHeader",onChange:o,value:a||"",fullWidth:!0})),n.createElement(i.Ay,{xs:6,md:8,style:{paddingRight:0},item:!0},n.createElement(d.A,{margin:"normal",variant:"outlined",id:"advAuthHeaderValue",label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.adv.auth.header.value",defaultMessage:"Authorization Header Value"}),name:"advAuthHeaderValue",onChange:o,value:l||"",fullWidth:!0}))),n.createElement(i.Ay,{x:12,md:6,className:t.centerItems},n.createElement(r.A,{variant:"h6",component:"label",id:"key-type",color:"textSecondary",className:t.tryoutHeading},n.createElement(s.A,{id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.endpoint.heading",defaultMessage:"API Endpoint"})),n.createElement(d.A,{fullWidth:!0,select:!0,id:"selectedEndpoint",label:n.createElement(s.A,{defaultMessage:"Endpoint type",id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.endpoint"}),value:c,name:"selectedEndpoint",onChange:o,helperText:n.createElement(s.A,{defaultMessage:"Please select an endpoint type",id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.endpoint.help"}),margin:"normal",variant:"outlined"},m.apiExternalProductionEndpoint&&n.createElement(b.A,{value:"PRODUCTION",className:t.menuItem},"Production"),m.apiExternalSandboxEndpoint&&n.createElement(b.A,{value:"SANDBOX",className:t.menuItem},"Sandbox"))),(g||y||A)&&n.createElement(i.Ay,{x:12,md:6,className:t.centerItems,style:{marginTop:"10px"}},n.createElement(N.A,{severity:"info",variant:"filled",sx:{bgcolor:"background.paper"}},n.createElement(O.A,null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.AdvertiseDetailsPanel.security.details",defaultMessage:"Security Details"})),g&&n.createElement("div",null,n.createElement("strong",null,"Transports: "),g),y&&n.createElement("div",null,n.createElement("strong",null,"Security schemes: "),y),A&&n.createElement("div",null,n.createElement("strong",null,"Authorization header: "),A))))};var x=a(85877),K=a(51989),R=a(46252),H=a(62861);const U="SelectAppPanel",$={centerItems:`${U}-centerItems`,tryoutHeading:`${U}-tryoutHeading`,menuItem:`${U}-menuItem`},B=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${$.centerItems}`]:{margin:"auto"},[`& .${$.tryoutHeading}`]:{display:"block",fontWeight:400},[`& .${$.menuItem}`]:{color:t.palette.getContrastText(t.palette.background.paper)}}})),L=e=>{let{selectedApplication:t,selectedKeyType:a}=e;const{subscriptions:l,handleChanges:o,allApplications:c}=e,g=e=>{const{target:n}=e,{name:l,value:s}=n;switch(l){case"selectedApplication":t=s;break;case"selectedKeyType":a=s}o(e)};return n.createElement(B,null,n.createElement(i.Ay,{x:12,md:6,className:$.centerItems},null!==c?n.createElement(d.A,{fullWidth:!0,id:"selected-application",select:!0,label:n.createElement(s.A,{defaultMessage:"Applications",id:"Apis.Details.ApiConsole.SelectAppPanel.applications"}),value:t,name:"selectedApplication",onChange:g,SelectProps:c,helperText:n.createElement(s.A,{defaultMessage:"Available applications",id:"Apis.Details.ApiConsole.SelectAppPanel.select.available.application"}),margin:"normal",variant:"outlined"},c.map((e=>n.createElement(b.A,{value:e.applicationId,key:e.applicationId,className:$.menuItem},e.name)))):n.createElement(d.A,{fullWidth:!0,id:"selected-application",select:!0,label:n.createElement(s.A,{defaultMessage:"Applications",id:"Apis.Details.ApiConsole.SelectAppPanel.applications"}),value:t,name:"selectedApplication",onChange:g,SelectProps:l,helperText:n.createElement(s.A,{defaultMessage:"Subscribed applications",id:"Apis.Details.ApiConsole.SelectAppPanel.select.subscribed.application"}),margin:"normal",variant:"outlined"},l.map((e=>n.createElement(b.A,{value:e.applicationInfo.applicationId,key:e.applicationInfo.applicationId,className:$.menuItem},e.applicationInfo.name))))),n.createElement(i.Ay,{x:12,md:6,className:$.centerItems},n.createElement(r.A,{variant:"h6",component:"label",id:"key-type",color:"textSecondary",className:$.tryoutHeading},n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.select.key.type.heading",defaultMessage:"Key Type"})),null!==c?n.createElement(m.A,{variant:"standard",component:"fieldset"},n.createElement(u.A,{name:"selectedKeyType",value:a,onChange:g,"aria-labelledby":"key-type",row:!0},n.createElement(p.A,{value:"PRODUCTION",control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.production.radio",defaultMessage:"Production"})}),n.createElement(p.A,{value:"SANDBOX",control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.sandbox.radio",defaultMessage:"Sandbox"})}))):n.createElement(m.A,{variant:"standard",component:"fieldset"},n.createElement(u.A,{name:"selectedKeyType",value:a,onChange:g,"aria-labelledby":"key-type",row:!0},null!==l&&("UNBLOCKED"===l.find((e=>e.applicationId===t)).status||"TIER_UPDATE_PENDING"===l.find((e=>e.applicationId===t)).status)&&n.createElement(p.A,{value:"PRODUCTION",control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.production.radio",defaultMessage:"Production"})}),n.createElement(p.A,{value:"SANDBOX",control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.sandbox.radio",defaultMessage:"Sandbox"})})))))},_="TryOutController",W={centerItems:`${_}-centerItems`,tokenType:`${_}-tokenType`,paper:`${_}-paper`,grid:`${_}-grid`,tryoutHeading:`${_}-tryoutHeading`,genKeyButton:`${_}-genKeyButton`,gatewayEnvironment:`${_}-gatewayEnvironment`,categoryHeading:`${_}-categoryHeading`,tooltip:`${_}-tooltip`,menuItem:`${_}-menuItem`,warningIcon:`${_}-warningIcon`,loadMoreLink:`${_}-loadMoreLink`,link:`${_}-link`,authHeader:`${_}-authHeader`},z=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{width:"100%",[`& .${W.centerItems}`]:{margin:"auto"},[`& .${W.tokenType}`]:{margin:"auto",display:"flex","& .MuiButton-contained.Mui-disabled span.MuiButton-label":{color:"#6d6d6d"}},[`& .${W.paper}`]:{margin:t.spacing(1),padding:t.spacing(1)},[`& .${W.grid}`]:{marginTop:t.spacing(4),marginBottom:t.spacing(4),paddingRight:t.spacing(2),justifyContent:"center"},[`& .${W.tryoutHeading}`]:{fontWeight:400,display:"block"},[`& .${W.genKeyButton}`]:{background:t.palette.grey[300],width:t.spacing(20),height:t.spacing(5),marginTop:t.spacing(2.5),marginLeft:t.spacing(2),"&:disabled":{cursor:"not-allowed",background:t.palette.grey[50]}},[`& .${W.gatewayEnvironment}`]:{marginTop:t.spacing(4)},[`& .${W.categoryHeading}`]:{marginBottom:t.spacing(2),marginLeft:t.spacing(-5)},[`& .${W.tooltip}`]:{marginLeft:t.spacing(1)},[`& .${W.menuItem}`]:{color:t.palette.getContrastText(t.palette.background.paper)},[`& .${W.warningIcon}`]:{color:"#ff9a00",fontSize:25,marginRight:10},[`& .${W.loadMoreLink}`]:{textDecoration:"none",margin:"auto",display:"flex",justifyContent:"center"},[`& .${W.link}`]:{color:t.palette.getContrastText(t.palette.background.default),cursor:"pointer"},[`& .${W.authHeader}`]:{marginBottom:"20px"}}}));function F(e){const{securitySchemeType:t,selectedEnvironment:a,environments:l,productionAccessToken:o,sandboxAccessToken:c,selectedKeyType:N,setKeys:O,setSelectedKeyType:U,setSelectedKeyManager:$,setSelectedEnvironment:B,setProductionAccessToken:_,setSandboxAccessToken:F,scopes:X,setSecurityScheme:Y,setUsername:G,setPassword:V,username:j,password:q,updateSwagger:Q,setProductionApiKey:J,setSandboxApiKey:Z,productionApiKey:ee,sandboxApiKey:te,environmentObject:ae,setURLs:ne,setAdvAuthHeader:le,setAdvAuthHeaderValue:se,advAuthHeader:ie,advAuthHeaderValue:re,setSelectedEndpoint:oe,selectedEndpoint:ce,api:de,URLs:me,onConfigChange:ue}=e;let{selectedKeyManager:pe}=e;pe=pe||"Resident Key Manager";const[Ae,ge]=(0,n.useState)(!1),[ye,Ee]=(0,n.useState)(!1),[he,ve]=(0,n.useState)(!1),[fe,Te]=(0,n.useState)(!1),[be,ke]=(0,n.useState)([]),[Ce,Se]=(0,n.useState)(null),[Ie,Pe]=(0,n.useState)([]),[De,we]=(0,n.useState)([]),[Ne,Oe]=(0,n.useState)(null),[Me,xe]=(0,n.useState)(!1),[Ke,Re]=(0,n.useState)(!1),[He,Ue]=(0,n.useState)(""),$e=de.id,Be=new K.A,Le=T.A.getUser(),_e=de.tiers&&1===de.tiers.length&&de.tiers[0].tierName.includes(H.A.DEFAULT_SUBSCRIPTIONLESS_PLAN),We=e=>{let{newAccessToken:n}=e;ue&&ue({newAccessToken:n,newSecurityScheme:t,newUsername:j,newPassword:q,newSelectedEnvironment:a})};function ze(e){const{target:a}=e,{name:n,value:l}=a;switch(n){case"selectedEnvironment":if(B(l,!0),"GRAPHQL"!==de.type&&Q(l),ae){const e=ae.find((e=>l===e.environmentName)).URLs;ne(e)}break;case"selectedApplication":_(""),F(""),J(""),Z(""),Pe(l);break;case"selectedKeyManager":$(l,!0,Ie);break;case"selectedKeyType":U(l,!o||!c,Ie);break;case"securityScheme":Y(l);break;case"username":G(l);break;case"password":V(l);break;case"accessToken":We({newAccessToken:l}),"API-KEY"===t&&"PRODUCTION"===N?J(l):"API-KEY"===t&&"SANDBOX"===N?Z(l):"PRODUCTION"===N?_(l):F(l);break;case"advAuthHeader":le(l);break;case"advAuthHeaderValue":se(l);break;case"selectedEndpoint":oe(l)}}if((0,n.useEffect)((()=>{let e,t,n,l,s,i="PRODUCTION";de.lifeCycleStatus&&(_e&&R.A.all(100,0,"asc","name","").then((e=>{null!==e&&(t=e.list.filter((e=>"APPROVED"===e.status)),t&&t.length>0&&(n=t[0].applicationId,R.A.get(n).then((e=>e.getKeys())).then((e=>{e.get(pe)&&"SANDBOX"===e.get(pe).keyType?(i="SANDBOX",({accessToken:s}=e.get(pe).token)):e.get(pe)&&"PRODUCTION"===e.get(pe).keyType&&(i="PRODUCTION",({accessToken:s}=e.get(pe).token)),Pe(n),Se(t),O(e),B(a,!1),U(i,!1),"PRODUCTION"===N?_(s):F(s)}))))})).catch((e=>{const{status:t}=e;404===t&&Te(!0)})),Be.getSubscriptions($e).then((t=>{null!==t?(e=t.obj.list.filter((e=>"UNBLOCKED"===e.status||"PROD_ONLY_BLOCKED"===e.status||"TIER_UPDATE_PENDING"===e.status)),e&&e.length>0?(n=e[0].applicationId,R.A.get(n).then((e=>e.getKeys())).then((t=>{t.get(pe)&&"SANDBOX"===t.get(pe).keyType?(i="SANDBOX",({accessToken:s}=t.get(pe).token)):t.get(pe)&&"PRODUCTION"===t.get(pe).keyType&&(i="PRODUCTION",({accessToken:s}=t.get(pe).token)),Pe(n),ke(e),O(t),B(a,!1),U(i,!1),"PRODUCTION"===N?_(s):F(s)}))):(Pe(n),ke(e),O(l),B(a,!1),"PRODUCTION"===N?_(s):F(s),U(N,!1))):(Pe(n),ke(e),O(l),B(a,!1),"PRODUCTION"===N?_(s):F(s),U(N,!1))})).catch((e=>{const{status:t}=e;404===t&&Te(!0)})),Be.getKeyManagers().then((e=>{const t=[];e.body.list.map((e=>t.push(e))),we(t);const a=t.filter((e=>e.name===pe));a&&a.length>0&&Oe(a[0])})).catch((e=>{const{status:t}=e;404===t&&Te(!0)})))}),[]),(0,n.useEffect)((()=>{!function(){if(de.lifeCycleStatus){let e,t;_e?null!==Ce&&0!==Ce.length&&0!==Ie.length&&("PROD_ONLY_BLOCKED"===Ce.find((e=>e.applicationId===Ie)).status?(U(N,!1),t="SANDBOX"):t=N):null!==be&&0!==be.length&&0!==Ie.length&&("PROD_ONLY_BLOCKED"===be.find((e=>e.applicationId===Ie)).status?(U(N,!1),t="SANDBOX"):t=N),R.A.get(Ie).then((e=>e.getKeys(t||"PRODUCTION"))).then((t=>{const a=t.get(pe);a&&a.keyType===N&&({accessToken:e}=a.token),a&&"PRODUCTION"===a.keyType?_(e):a&&"SANDBOX"===a.keyType&&F(e),a&&a.consumerKey&&""!==a.consumerKey?xe(!0):xe(!1),O(t)}))}}()}),[Ie,N,a,t]),(0,n.useEffect)((()=>{ue&&ue({newAccessToken:null,newSecurityScheme:t,newUsername:j,newPassword:q,newSelectedEnvironment:a})}),[j,q,a,t]),null==de)return n.createElement(x.A,null);if(fe)return"API Not found !";let Fe=!1,Xe=!1,Ye=!1,Ge=!1,Ve=de.authorizationHeader?de.authorizationHeader:"Authorization",je="Bearer";de&&de.securityScheme&&(Fe=de.securityScheme.includes("api_key"),Xe=de.securityScheme.includes("basic_auth"),Ye=de.securityScheme.includes("oauth2"),Ge=de.securityScheme.includes("test_auth"),Fe&&"API-KEY"===t&&(Ve=de.apiKeyHeader?de.apiKeyHeader:"ApiKey",je=""),Ge&&"TEST"===t&&(Ve="testKey",je=""));const qe=de.lifeCycleStatus&&"prototyped"===de.lifeCycleStatus.toLowerCase(),Qe="published"===de.lifeCycleStatus.toLowerCase()||qe,Je=`${Ve}: ${je}`;return(0,n.useEffect)((()=>{Ue("API-KEY"===t?"PRODUCTION"===N?ee:te:"PRODUCTION"===N?o:c)}),[t,N,o,c,ee,te]),n.createElement(z,null,n.createElement(i.Ay,{x:12,md:6,className:W.centerItems},n.createElement(C.A,null,"TEST"!==t&&(!de.advertiseInfo||!de.advertiseInfo.advertised)&&n.createElement(n.Fragment,null,n.createElement(C.A,{mb:1},n.createElement(r.A,{variant:"body1"},n.createElement(C.A,{display:"flex",alignItems:"center"},De.length>1&&Ne&&Ne.enabled&&n.createElement(s.A,{id:"Apis.Details.ApiConsole.TryOutController.default.km.msg.one",defaultMessage:"The Resident Key Manager is selected for try out console."}),Ne&&!Ne.enabled&&n.createElement(n.Fragment,null,n.createElement(S.A,{className:W.warningIcon}),n.createElement("div",null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.TryOutController.default.km.msg.two",defaultMessage:"Try it console is only accessible via the default key manager.But the default key manager is disabled at the moment."}))),Ne&&0===Ne.length&&n.createElement(s.A,{id:"Apis.Details.ApiConsole.TryOutController.default.km.msg.three",defaultMessage:"Try it console is only accessible via the default key manager.Something went wrong while selecting the default Key manager."}))))),(Fe||Xe||Ye)&&Qe&&(!de.advertiseInfo||!de.advertiseInfo.advertised)&&n.createElement(n.Fragment,null,n.createElement(r.A,{variant:"h5",component:"h2",color:"textPrimary",className:W.categoryHeading},n.createElement(s.A,{id:"api.console.security.heading",defaultMessage:"Security"})),n.createElement(r.A,{variant:"h6",component:"label",id:"security-type",color:"textSecondary",className:W.tryoutHeading},n.createElement(s.A,{id:"api.console.security.type.heading",defaultMessage:"Security Type"})),n.createElement(m.A,{variant:"standard",component:"fieldset"},n.createElement(u.A,{name:"securityScheme",value:t,onChange:ze,"aria-labelledby":"security-type",row:!0},n.createElement(p.A,{value:"OAUTH",disabled:!Ye,control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.security.scheme.oauth",defaultMessage:"OAuth"})}),n.createElement(p.A,{value:"API-KEY",disabled:!Fe,control:n.createElement(A.A,null),id:"api-key-select-radio-button",label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.security.scheme.apikey",defaultMessage:"API Key"})}),n.createElement(p.A,{value:"BASIC",disabled:!Xe,control:n.createElement(A.A,null),label:n.createElement(s.A,{id:"Apis.Details.ApiConsole.security.scheme.basic",defaultMessage:"Basic"})})))))),n.createElement(i.Ay,{xs:12,md:12,item:!0},n.createElement(C.A,{display:"block"},Le&&be&&(_e&&null!==Ce||be.length>0&&!_e)&&"BASIC"!==t&&"TEST"!==t&&(!de.advertiseInfo||!de.advertiseInfo.advertised)&&n.createElement(L,{subscriptions:be,allApplications:Ce,handleChanges:ze,selectedApplication:Ie,selectedKeyManager:pe,selectedKeyType:N,keyManagers:De}),!be||0!==be.length||"TEST"===t||"BASIC"===t||de.advertiseInfo&&de.advertiseInfo.advertised||_e?!Me&&"OAUTH"===t&&(!de.advertiseInfo||!de.advertiseInfo.advertised)&&n.createElement(i.Ay,{x:8,md:6,className:W.tokenType,item:!0},n.createElement(C.A,{mb:1,alignItems:"center"},n.createElement(r.A,{variant:"body1"},n.createElement(C.A,{display:"flex"},n.createElement(S.A,{className:W.warningIcon}),n.createElement("div",null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.ApiConsole.keys.not.generated",defaultMessage:"Consumer key and secret not generated for the selected application on the {what} environment. ",values:{what:N}})))))):n.createElement(i.Ay,{x:8,md:6,className:W.tokenType,item:!0},n.createElement(C.A,{mb:1,alignItems:"center"},n.createElement(r.A,{variant:"body1"},n.createElement(C.A,{display:"flex"},n.createElement(S.A,{className:W.warningIcon}),n.createElement("div",null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.ApiConsole.subscribe.to.application",defaultMessage:"Please subscribe to an application"})))))),de.advertiseInfo&&de.advertiseInfo.advertised?n.createElement(M,{classes:W,advAuthHeader:ie,advAuthHeaderValue:re,handleChanges:ze,selectedEndpoint:ce,api:de}):n.createElement(C.A,{display:"block",justifyContent:"center"},n.createElement(i.Ay,{x:8,md:6,className:W.tokenType,item:!0},"BASIC"===t&&n.createElement(n.Fragment,null,n.createElement(i.Ay,{x:12,md:12,item:!0},n.createElement(d.A,{margin:"normal",variant:"outlined",id:"username",label:n.createElement(s.A,{id:"username",defaultMessage:"Username"}),name:"username",onChange:ze,value:j||"",fullWidth:!0}),n.createElement(d.A,{margin:"normal",variant:"outlined",id:"input-password",label:n.createElement(s.A,{id:"password",defaultMessage:"Password"}),name:"password",onChange:ze,type:ye?"text":"password",value:q||"",fullWidth:!0,InputProps:{autoComplete:"new-password",endAdornment:n.createElement(v.A,{position:"end"},n.createElement(h.A,{edge:"end","aria-label":"toggle password visibility",onClick:()=>Ee(!ye),size:"large"},ye?n.createElement(I.A,null):n.createElement(P.A,null)))}}))),"BASIC"!==t&&"TEST"!==t&&n.createElement(d.A,{fullWidth:!0,margin:"normal",variant:"outlined",label:n.createElement(s.A,{id:"access.token",defaultMessage:"Access Token"}),name:"accessToken",onChange:ze,type:Ae?"text":"password",value:He||"",helperText:n.createElement(s.A,{id:"enter.access.token",defaultMessage:"Enter access Token"}),id:"accessTokenInput",InputProps:{autoComplete:"new-password",endAdornment:n.createElement(v.A,{position:"end"},n.createElement(h.A,{edge:"end","aria-label":"Toggle token visibility",onClick:function(){ge(!Ae)},size:"large"},Ae?n.createElement(f.A,null,"visibility_off"):n.createElement(f.A,null,"visibility"))),startAdornment:n.createElement(v.A,{style:{minWidth:7*Je.length},position:"start"},`${Ve}: ${je}`)}}),"BASIC"!==t&&"TEST"!==t&&Ne&&!Ne.enableTokenHashing&&n.createElement(n.Fragment,null,n.createElement(k.A,{onClick:"API-KEY"===t?function(){de.lifeCycleStatus&&(ve(!0),Be.generateApiKey(Ie,N,-1).then((e=>{console.log("Non empty response received",e),ge(!1),"PRODUCTION"===N?J(e.body.apikey):Z(e.body.apikey),We({newAccessToken:e.body.apikey}),ve(!1)})).catch((e=>{console.log(e);const{status:t}=e;404===t&&Te(!0),ve(!1)})))}:function(){de.lifeCycleStatus&&(ve(!0),R.A.get(Ie).then((e=>e.generateToken(pe,N,3600,X))).then((e=>{console.log("token generated successfully "+e),ge(!1),"PRODUCTION"===N?_(e.accessToken):F(e.accessToken),We({newAccessToken:e.accessToken}),ve(!1)})).catch((e=>{console.error(e);const{status:t}=e;404===t&&Te(!0),ve(!1)})))},variant:"contained",color:"grey",className:W.genKeyButton,disabled:!Le||be&&0===be.length&&!_e||!Me&&"OAUTH"===t,id:"gen-test-key"},he&&n.createElement(g.A,{size:15}),n.createElement(s.A,{id:"Apis.Details.ApiConsole.generate.test.key",defaultMessage:"GET TEST KEY"})),n.createElement(y.A,{placement:"right",interactive:!0,title:n.createElement(s.A,{id:"Apis.Details.TryOutConsole.access.token.tooltip",defaultMessage:"You can use your existing Access Token or you can generate a new Test Key."})},n.createElement(C.A,{m:1,mt:2},n.createElement(h.A,{"aria-label":"Use existing Access Token or generate a new Test Key",size:"large"},n.createElement(E.A,null))))))),(!de.advertiseInfo||!de.advertiseInfo.advertised)&&n.createElement(C.A,{display:"flex",justifyContent:"center",className:W.gatewayEnvironment},n.createElement(i.Ay,{xs:12,md:6,item:!0},l&&l.length>0&&n.createElement(n.Fragment,null,n.createElement(r.A,{variant:"h5",component:"h3",color:"textPrimary",className:W.categoryHeading},n.createElement(s.A,{id:"api.console.gateway.heading",defaultMessage:"Gateway"})),n.createElement(d.A,{fullWidth:!0,select:!0,id:"environment",label:n.createElement(s.A,{defaultMessage:"Environment",id:"Apis.Details.ApiConsole.environment"}),value:a||l&&l[0].name,name:"selectedEnvironment",onChange:ze,helperText:n.createElement(s.A,{defaultMessage:"Please select an environment",id:"Apis.Details.ApiConsole.SelectAppPanel.environment"}),margin:"normal",variant:"outlined"},l&&l.length>0&&n.createElement(b.A,{value:"",disabled:!0,className:W.menuItem},n.createElement("em",null,n.createElement(s.A,{id:"api.gateways",defaultMessage:"API Gateways"}))),l&&l.map((e=>n.createElement(b.A,{value:e.name,key:e.name,className:W.menuItem},e.displayName)))),de&&"GRAPHQL"===de.type&&n.createElement(n.Fragment,null,n.createElement(r.A,{className:W.verticalSpace,variant:"body1"},n.createElement("a",{className:W.link+" "+W.loadMoreLink,onClick:()=>Re(!Ke),onKeyDown:()=>Re(!Ke)},Ke?n.createElement(n.Fragment,null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.environment.show.less",defaultMessage:"Show Less"}),n.createElement(w.A,null)):n.createElement(n.Fragment,null,n.createElement(s.A,{id:"Apis.Details.ApiConsole.SelectAppPanel.environment.show.more",defaultMessage:"Show More"}),n.createElement(D.A,null)))),Ke&&n.createElement(n.Fragment,null,n.createElement(d.A,{label:n.createElement(s.A,{defaultMessage:"Gateway URLs",id:"Apis.Details.ApiConsole.SelectAppPanel.environment.show.more.http.URLs"}),value:me&&me.https,name:"selectedHTTPURL",fullWidth:!0,margin:"normal",variant:"outlined",InputProps:me&&me.https}),me&&me.wss&&n.createElement(d.A,{label:n.createElement(s.A,{defaultMessage:"Subscription Gateway URLs",id:"Apis.Details.ApiConsole.SelectAppPanel.environment.show.more.subscription.URLs"}),value:me&&me.wss,name:"selectedWSURL",fullWidth:!0,margin:"normal",variant:"outlined",InputProps:me&&me.wss})))))))))}F.propTypes={classes:c().shape({paper:c().string.isRequired,grid:c().string.isRequired,inputAdornmentStart:c().string.isRequired,centerItems:c().string.isRequired}).isRequired};const X=F}}]);
//# sourceMappingURL=8874.24201446924fd9356bce.bundle.js.map